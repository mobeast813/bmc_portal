"use strict";(self.webpackChunkbmc_management_portal=self.webpackChunkbmc_management_portal||[]).push([[82],{7082:(e,s,t)=>{t.r(s),t.d(s,{default:()=>S});var r=t(5043),l=t(4101),a=t(861),c=t(6105),n=t(4907),o=t(4227),d=(t(5015),t(357)),i=t(4549),h=t(5074),u=t(3003),m=t(6477),p=t(3397),x=t(3216),g=t(5475),f=t(9580),j=t(4303),y=t(7861),k=t(6528),b=t(3805),I=t(2845),_=t(2657),C=t(579);const v=e=>{let{list:s,selectId:t,unselectId:l,selectAll:a,unselectAll:c,resetCheckbox:n}=e;const o=(0,u.wA)(),[d,i]=((0,x.Zp)(),(0,r.useState)()),[h,m]=(0,r.useState)(!1),[p,v]=(0,r.useState)({}),[w,E]=(0,r.useState)();(0,r.useEffect)((()=>{m(!1),d&&d.forEach((e=>{p[e.userId]=!1})),c()}),[n]);(0,r.useEffect)((()=>{if(0===Object.keys(p).length)return;const e=Object.values(p).every((e=>e));m(!!e)}),[p]),(0,r.useEffect)((()=>{if(s){const e=s.map((e=>({check:"",createdDate:e.created_date,userEmail:e.user_email,userId:e.user_id,userName:e.user_name,_cellProps:{class:{scope:"row"}}})));i(e)}}),[s]);const S=[{key:"check",label:"\uc120\ud0dd",_props:{scope:"col"}},{key:"user_id",label:"\uc0ac\uc6a9\uc790ID",_props:{scope:"col"}},{key:"user_name",label:"\uc131\uba85",_props:{scope:"col"}},{key:"user_email",label:"\uc774\uba54\uc77c \uc8fc\uc18c",_props:{scope:"col"}},{key:"create_dated",label:"\ub4f1\ub85d\uc77c",_props:{scope:"col"}}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(f._,{align:"middle",responsive:!0,bordered:!0,hover:!0,children:[(0,C.jsx)(j.w,{align:"middle",color:"primary",children:(0,C.jsx)(y.Y,{children:null===S||void 0===S?void 0:S.map(((e,s)=>(0,C.jsxs)(k.$,{children:["\uc120\ud0dd"==e.label?(0,C.jsx)(b.C,{checked:h||!1,onChange:e=>{const s=e.target.checked;m(s),s?(d.forEach((e=>{p[e.userId]=!0})),a()):(d.forEach((e=>{p[e.userId]=!1})),c())}}):(0,C.jsx)(C.Fragment,{}),"\xa0 ",e.label]},s)))})}),(0,C.jsx)(I.C,{align:"middle",children:null===d||void 0===d?void 0:d.map(((e,s)=>(0,C.jsxs)(y.Y,{children:[(0,C.jsx)(_.c,{children:(0,C.jsx)(b.C,{type:"checkbox",id:`gridCheck-${e.userId}`,checked:p[e.userId]||!1,onChange:s=>{const r=s.target.checked;((e,s)=>{v((t=>({...t,[e]:s})))})(e.userId,r),r?t(e.userId):l(e.userId)}})}),(0,C.jsx)(_.c,{children:(0,C.jsx)(g.N_,{to:`/admin/manage-user-role/${e.userId}`,onClick:()=>(e=>{let{userId:s,name:t,email:r}=e;o({type:"user",selectedUserInfo:{userId:s,name:t,email:r}})})({userId:e.userId,name:e.userName,email:e.userEmail}),children:e.userId})}),(0,C.jsx)(_.c,{children:e.userName}),(0,C.jsx)(_.c,{children:e.userEmail}),(0,C.jsx)(_.c,{children:e.createdDate})]},s)))})]})})};var w=t(825);const E=e=>{const{title:s,value:t,setOnChange:r,type:l,placeholder:a}=e;return(0,C.jsx)(o.U,{className:"d-flex align-items-center",children:(0,C.jsx)(w.O,{placeholder:a,type:l||"text",id:s,value:t,onChange:e=>{r(e.target.value)}})})},S=()=>{const e=(0,u.wA)(),[s,t]=(0,r.useState)([]),[x,g]=(0,r.useState)(),[f,j]=(0,r.useState)(),[y,k]=(0,r.useState)(""),[b,I]=(0,r.useState)(!1),[_,w]=(0,r.useState)(!1);(0,r.useEffect)((()=>{S(1)}),[]);const S=e=>{try{return(0,p.aU)({page:e}).then((e=>{g(e.users),j(e.pages)})).catch((e=>{console.log(e)}))}catch(s){console.error("Error fetching data:",s)}},N=e=>{let{isRefresh:s,page:t}=e;try{return(0,p.aU)({page:s?1:t}).then((e=>{g(e.users),s&&(w(!_),I(!b),j(e.pages))}))}catch(r){console.error("Error fetching data:",r)}},A=e=>{let{isRefresh:s,page:t}=e;try{return(0,p.tc)({userName:y,page:s?1:t}).then((e=>{g(e.users),s&&(I(!b),j(e.pages))}))}catch(r){console.error("Error fetching data:",r)}};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(l.s,{className:"d-flex justify-content-center align-item-center",children:(0,C.jsxs)(a.E,{className:"d-flex mb-3",children:[(0,C.jsxs)(c.W,{children:[(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)(n.Q,{style:{fontWeight:"bold"},children:"\uc0ac\uc6a9\uc790 \uad00\ub9ac"})}),(0,C.jsxs)(l.s,{className:"justify-content-end mb-4",xs:{cols:"auto"},children:[(0,C.jsx)(E,{title:"Searched User Name",setOnChange:k,placeholder:"\uc131\uba85"}),(0,C.jsx)(o.U,{children:(0,C.jsx)(m.A,{text:"\uac80\uc0c9",onClick:async()=>{y.length>0?A({isRefresh:!1,page:1}):N({isRefresh:!1,page:1})}})})]}),(0,C.jsx)(l.s,{children:(0,C.jsxs)(o.U,{className:"d-flex justify-content-between",children:[(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)(i.A,{text:"\uc0ad\uc81c",onClick:async()=>{s.length>0?e({type:"modal",showConfirmModal:{isShow:!0,title:"\uc0ac\uc6a9\uc790 \uc0ad\uc81c \ud655\uc778",msg:`${s.length}\uba85\uc758 \uc0ac\uc6a9\uc790\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`,onConfirm:()=>{(0,p.hG)({userId:s}).then((s=>{s?(e({type:"modal",showAlertModal:{isShow:!0,title:"\uc0ad\uc81c \uc644\ub8cc",msg:"\uc0ac\uc6a9\uc790\ub97c \uc0ad\uc81c\ud558\uc600\uc2b5\ub2c8\ub2e4."}}),(async()=>{try{w(!_),A({isRefresh:!0,page:1})}catch(e){console.error("Error fetching data:",e)}})()):e({type:"modal",showAlertModal:{isShow:!0,title:"\u26a0\ufe0f \uc54c\ub9bc",msg:"\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."}})}))}}}):e({type:"modal",showAlertModal:{isShow:!0,title:"\uc0ac\uc6a9\uc790 \uc0ad\uc81c \ud655\uc778",msg:"\uc0ad\uc81c\ud560 \uc0ac\uc6a9\uc790\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"}})}})}),(0,C.jsx)("div",{className:"d-flex",children:(0,C.jsx)(d.A,{options:(0,h.Vl)(f),reload:b,callBack:e=>{y.length>0?A({isRefresh:!1,page:e}):N({isRefresh:!1,page:e})}})})]})})]}),(0,C.jsx)(v,{list:x,selectId:e=>{t([...s,e])},unselectId:e=>{t(s.filter((s=>s!==e)))},selectAll:()=>{const e=x.map((e=>e.number));t([...s,...e])},unselectAll:()=>{t([])},resetCheckbox:_})]})})})}}}]);
//# sourceMappingURL=82.daadf39d.chunk.js.map